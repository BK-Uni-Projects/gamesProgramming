<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="author" content="shearer12345"><title>On-screen Text and JSON, Assignment start</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="reveal.js/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme"><link href="reveal.js/lib/css/zenburn.css" rel="stylesheet"><script>document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );</script></head><body><div class="reveal"><div class="slides"><section><h1>On-screen Text and JSON, Assignment start</h1><p><small>shearer12345</small></p></section><section id="_overview"><h2>Overview</h2><div class="ulist"><ul><li><p>On-screen text output</p></li><li><p>JSON</p></li><li><p>Workshop activities</p></li></ul></div></section>
<section><section id="_on_screen_text_output"><h2>On-screen text output</h2><div class="ulist"><ul><li><p>Text is represented by a series of glyphs (symbols)</p></li><li><p>Glyphs are generated from a font</p></li><li><p>A font is a particular size, weight and style of a typeface.</p></li><li><p>A typeface (aka font-family) is a set of fonts that share common design features</p></li><li><p>!!!</p></li><li><p>the words "font" and "typeface" are frequently confused</p></li></ul></div></section><section id="_on_screen_text_output_file_formats"><h2>On-screen text output file formats</h2><div class="ulist"><ul><li><p>Fonts are usually described in some format of vector format</p><div class="ulist"><ul><li><p>rather than a raster format</p></li></ul></div></li><li><p>TrueType is the most common format (.ttf files)</p><div class="ulist"><ul><li><p>the content of .ttf files is protected by copyright</p></li><li><p>you should be careful distributing .ttf files in your game</p></li><li><p>there are a variety of openly licensed .ttf files/formats</p><div class="ulist"><ul><li><p>e.g. the Hack typeface - <a href="http://sourcefoundry.org/hack/" class="bare">http://sourcefoundry.org/hack/</a></p></li></ul></div></li></ul></div></li></ul></div></section><section id="_on_screen_text_output_in_practice"><h2>On-screen text output in practice</h2><div class="ulist"><ul><li><p>In games, text is usually rendered to the screen via a texture or sprite</p><div class="ulist"><ul><li><p>with SDL2 this is reasonably easy</p></li></ul></div></li><li><p>the SDL2_ttf library provides useful functions</p><div class="ulist"><ul><li><p>the <code>TTF_OpenFont()</code> function loads a font from a <code>.ttf</code> file</p></li><li><p>the <code>TTF_RenderText_Solid()</code> function generates an <code>SDL_Surface</code> from a font, a string, and a colour</p></li><li><p>this <code>SDL_Surface</code> can be converted to an <code>SDL_Texture</code> with <code>SDL_CreateTextureFromSurface()</code></p></li><li><p>an <code>SDL_Surface</code> can then be rendered using <code>SDL_RenderCopy()</code>, just like a sprite</p></li></ul></div></li></ul></div></section></section>
<section><section id="_file_formats"><h2>File formats</h2><div class="ulist"><ul><li><p>Most games need to load information from files</p><div class="ulist"><ul><li><p>rather than having everything hard-coded in source code</p></li></ul></div></li><li><p>Why?</p><div class="ulist"><ul><li class="fragment"><p>more flexible</p></li><li class="fragment"><p>don&#8217;t have to recompile code</p></li><li class="fragment"><p>forces a separation of game data and game logic</p></li><li class="fragment"><p>allows asset team to contribute</p></li><li class="fragment"><p>&#8230;&#8203;</p></li></ul></div></li></ul></div></section><section id="_file_formats_2"><h2>File formats 2</h2><div class="ulist"><ul><li><p>There are <strong>MANY MANY</strong> file formats</p></li><li><p>Each has it&#8217;s own pros and cons</p><div class="ulist"><ul><li><p>We&#8217;ll discuss more towards the end of this module</p></li></ul></div></li><li><p>You can always develop your own file formats</p></li><li><p>File formats can be text-formats or binary-formats</p></li><li><p>Some file formats have good C++ libraries to help</p></li></ul></div></section><section id="_file_formats_json"><h2>File formats - JSON</h2><div class="ulist"><ul><li><p>One specific format that may be useful to you is JSON</p><div class="ulist"><ul><li><p>JavaScript Object Notation</p></li><li><p>Text format</p></li><li><p>human readable, human writeable</p></li><li><p>machine readable, machine writeable</p></li></ul></div></li></ul></div></section><section id="_file_formats_json_example"><h2>File formats - JSON example</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="json language-json">{
  "firstName": "John",
  "lastName": "Smith",
  "isAlive": true,
  "age": 25,
  "address": {
    "streetAddress": "21 2nd Street",
    "city": "New York",
    "state": "NY",
    "postalCode": "10021-3100"
  },
  "phoneNumbers": [
    {
      "type": "home",
      "number": "212 555-1234"
    },
    {
      "type": "office",
      "number": "646 555-4567"
    }
  ],
  "children": [],
  "spouse": null
}</code></pre></div></div></section><section id="_file_formats_json_libraries"><h2>File formats - JSON libraries</h2><div class="ulist"><ul><li><p>Many C++ JSON libraries listed on awesome-cpp</p><div class="ulist"><ul><li><p><a href="http://fffaraz.github.io/awesome-cpp/#json" class="bare">http://fffaraz.github.io/awesome-cpp/#json</a></p></li><li><p>also: lots of other good C++</p></li></ul></div></li><li><p>May be useful for:</p><div class="ulist"><ul><li class="fragment"><p>high-score loading / saving</p></li><li class="fragment"><p>sprite animation loading</p></li><li class="fragment"><p>level loading / scene description</p></li><li class="fragment"><p>&#8230;&#8203;</p></li></ul></div></li></ul></div></section><section id="_file_formats_roll_your_own"><h2>File formats - Roll your own</h2><div class="ulist"><ul><li><p>You can always roll your own file format.</p></li><li><p>This <strong>may</strong> be quicker for this size project</p><div class="ulist"><ul><li><p>but, generally, recommend against</p></li></ul></div></li></ul></div></section><section id="_file_formats_3"><h2>File formats</h2><div class="ulist"><ul><li><p>A quick look at Chuckie Eggs for Windows</p><div class="ulist"><ul><li><p><a href="http://www.chuckie-egg.co.uk/" class="bare">http://www.chuckie-egg.co.uk/</a></p></li></ul></div></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[levels]
Version=101
NumberPresent=8

% 0=blank
% 1=wall
% 2=ladder
% 3=egg
% 4=grain
% 5=invisible platform
% 6=solid ladder

% size must be 20x27

% swan coords are measured in squares, origin bottom-left = 1,1
% 0 indicates swan not present
% note swans 1-4 are always present,
% swans 5-8 only appear level 25+

% elevator position must be 0-20, with
% 0=not present

% player start X,Y are measured in BBC pixels, origin bottom-left

% nb. The first line 'Chuckie Egg level data' is required.

[1]
00000000000000000000
00000000000000000000
00000000000000000000
00000000000000000000
00000002000000000000
00000032040003400003
00000112110111111011
00000002000000000000
00000002000000000000
00000002003400000000
00003002011100000000
00011112000000004000
00000002000000011000
00000002000001100000
00020002003110000000
00320402011000040300
00121112100000111110
00020002000000000000
00020002000000000000
00020002000200002000
03020402000203402030
01111112111211112110
00000002000200002000
00000002000200002000
00000002000200002000
00403002000204002000
11111111111111111111</code></pre></div></div></section></section>
<section><section id="_assignment_start"><h2>Assignment start</h2><div class="ulist"><ul><li><p>The assignment starting point is at <a href="https://github.com/shearer12345/sdl2template" class="bare">https://github.com/shearer12345/sdl2template</a></p></li><li><p>It provides:</p><div class="ulist"><ul><li><p>windows dependencies (directly in the repository)</p></li><li><p>premake5 script to setup a project for SDL2 with SDL2_image, SDL2_ttf and SDL2_mixer</p></li><li><p>an example main.cpp showing a image and some text</p><div class="ulist"><ul><li><p>the example is <strong>very</strong> c-like - you should work to restructure it for yourself</p></li></ul></div></li></ul></div></li><li><p>You can just download the ZIP and do versioning yourself</p><div class="ulist"><ul><li><p>OR duplicate the repository to your own github (or elsewhere)</p></li></ul></div></li></ul></div></section><section id="_work_through_of_the_starting_code"><h2>Work through of the starting code</h2><div class="ulist"><ul><li><p>We&#8217;ll work through the starting code, including the premake script</p><div class="ulist"><ul><li><p>line by line</p></li></ul></div></li></ul></div></section></section>
<section id="_workshop_activities_text"><h2>Workshop activities (text)</h2><div class="olist arabic"><ol class="arabic"><li><p>Get the assignment starting point</p><div class="ulist"><ul><li><p>I recommend that you use this for all your workshop activities</p></li><li><p>I recommend that you try things out in git branches</p><div class="ulist"><ul><li><p>run through <a href="https://try.github.io/levels/1/challenges/18">Branching Out</a> on try.github.io if you need to recap</p></li></ul></div></li></ul></div></li></ol></div></section>
<section id="_workshop_activities_text_2"><h2>Workshop activities (text 2)</h2><div class="olist arabic"><ol class="arabic"><li><p>Change the text that is displayed</p></li><li><p>Change the position of the text</p></li><li><p>Change the color of the text</p></li><li><p>Change the point size of the text</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Make it particularly small (e.g. 6) - what do you notice?</p></li></ol></div></li><li><p>Change the size of the text on-screen</p></li></ol></div></section>
<section id="_workshop_activities_text_3"><h2>Workshop activities (text 3)</h2><div class="olist arabic"><ol class="arabic"><li><p>Find some other TrueType font files</p></li><li><p>Load one of those files instead</p></li><li><p>Render two messages to the screen</p></li><li><p>Render three messages to the screen</p></li><li><p>Make the content (text) of one of your messages change on a key-press</p><div class="ulist"><ul><li><p>What do you have to do?</p></li><li><p>What should you be careful about?</p></li></ul></div></li></ol></div></section>
<section id="_workshop_activities_text_4"><h2>Workshop activities (text 4)</h2><div class="olist arabic"><ol class="arabic"><li><p>Make a class to support rendering text to the screen</p><div class="ulist"><ul><li><p>What functions/methods to you want your class to have to be useful</p></li><li><p>Can you change the text for an instance of your class (at run-time)?</p><div class="ulist"><ul><li><p>what does that require?</p></li></ul></div></li><li><p>Can you change the font for an instance of your class (at run-time)?</p><div class="ulist"><ul><li><p>what does that require?</p></li></ul></div></li></ul></div></li></ol></div></section>
<section id="_workshop_activities_stretch"><h2>Workshop activities (stretch)</h2><div class="olist arabic"><ol class="arabic"><li><p>Go through the features for the Assignment</p><div class="ulist"><ul><li><p>make a list</p></li><li><p>in Lecture 1 we went through the things we&#8217;ll cover in the module</p></li><li><p>identify those in the assignment that are not explicitly covered (e.g. loading screen)</p></li><li><p>those are good stretch activities</p><div class="ulist"><ul><li><p>workshops are good times to ask for help/ideas etc</p></li></ul></div></li></ul></div></li></ol></div></section></div></div><script src="reveal.js/lib/js/head.min.js"></script><script src="reveal.js/js/reveal.js"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: false,
  // Push each slide change to the browser history
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'black',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
  ]
});</script></body></html>