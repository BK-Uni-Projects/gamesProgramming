<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="author" content="John Shearer"><title>Setting up a Build System</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="reveal.js/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme"><link href="reveal.js/lib/css/zenburn.css" rel="stylesheet"><script>document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );</script></head><body><div class="reveal"><div class="slides"><section class="title"><h1>Setting up a Build System</h1><p class="author"><small>John Shearer</small></p></section><section id="_where_we_want_to_get_to"><h2>Where we want to get to</h2><div class="ulist"><ul><li><p>We need to be able to use libraries for Games Programming</p></li><li><p>For this module, we&#8217;ll mainly be using the <a href="https://www.libsdl.org/index.php">SDL2</a> library</p></li><li><p>By the end of this session, you should have gotten our test program to run, using two different build systems</p><div class="olist arabic"><ol class="arabic"><li><p>manual approach</p></li><li><p>automated approach (using <a href="https://conan.io/">conan.io</a> and <a href="https://cmake.org/">cmake</a>)</p></li></ol></div></li></ul></div></section>
<section><section id="_activity_summary"><h2>Activity summary</h2><div class="ulist"><ul><li><p>Imagine you have a friend/collegue/future self that needs to develop program</p></li><li><p>They/you will need to setup their system for this</p><div class="olist arabic"><ol class="arabic"><li><p>Write (through this session) instructions of how to set up for developing your program</p><div class="ulist"><ul><li><p>write by hand or a digital document</p></li><li><p>make sure to give all steps, with sufficient detail</p></li></ul></div></li><li><p>Email your instructions at the end of the session</p></li></ol></div></li></ul></div></section><section id="_activity_summary_2"><h2>Activity summary</h2><div class="ulist"><ul><li><p>There are questions scattered throughout this document.</p><div class="ulist"><ul><li><p>Try to answer all of them.</p></li><li><p>Discuss them with your collegues/friends</p></li></ul></div></li></ul></div></section></section>
<section><section id="_stages_of_making_and_running_a_program_and_where_errors_can_occur"><h2>Stages of making and running a program, and where errors can occur</h2><div class="ulist"><ul><li><p>There are 3 main stages going from source code to a running program.</p></li><li><p>This is true independent of C++</p></li></ul></div></section><section id="_compilation"><h2>Compilation</h2><div class="ulist"><ul><li><p>Compile allh *translation unit" (roughly, each source code file)</p></li><li><p>Creates binary object files (<code>.obj</code> on Windows)</p></li><li><p><strong>COMPILE-TIME</strong> errors</p></li></ul></div></section><section id="_linking"><h2>Linking</h2><div class="ulist"><ul><li><p>Link object files together</p></li><li><p>Link also with any static libraries (<code>.lib</code> on Windows)</p></li><li><p>Creates an executable binary (<code>.exe</code> on Windows)</p></li><li><p><strong>LINK-TIME</strong> errors</p></li></ul></div></section><section id="_load_and_dynamic_linking"><h2>Load and Dynamic linking</h2><div class="ulist"><ul><li><p>Load the program into memory (RAM, or virtual memory)</p></li><li><p>Load any dynamic/shared libraries into memory (unless already loaded)</p></li><li><p>update the program to reference into the in-memory dynamic libraries</p></li><li><p><strong>RUN-TIME</strong> errors</p></li></ul></div></section></section>
<section id="_types_of_library"><h2>Types of library</h2><div class="olist arabic"><ol class="arabic"><li><p>Header-only libraries</p><div class="ulist"><ul><li><p>just source code - EASY</p></li></ul></div></li><li><p>Static libraries</p><div class="ulist"><ul><li><p>embedded into our exe by the linker - MEDIUM</p></li></ul></div></li><li><p>Dynamically-linked libraries / Shared libraries</p><div class="ulist"><ul><li><p>linked to our exe at run-time - HARD</p></li></ul></div></li></ol></div></section>
<section><section id="_setting_up_header_only_libraries"><h2>Setting up Header-only libraries</h2><div class="ulist"><ul><li><p>Header-only libraries only contain source code.</p></li><li><p>Our compiler will compile all this library code for us right into our program.</p></li></ul></div></section><section id="_setting_up_header_only_libraries_steps"><h2>Setting up Header-only libraries (steps)</h2><div class="olist arabic"><ol class="arabic"><li><p>Find library header files and put somewhere on our local system</p></li><li><p>Use the header files (<code>.h</code> or <code>.hpp</code>) from our code</p></li><li><p>Tell our <strong>compiler</strong> where to look for header files to compile in</p></li></ol></div></section></section>
<section><section id="_setting_up_static_library"><h2>Setting up Static library</h2><div class="ulist"><ul><li><p>Static libraries still have header files</p><div class="ulist"><ul><li><p>these tell us and our compiler the <strong>interface</strong> to the library</p></li><li><p>what functions/variables exist</p></li></ul></div></li><li><p>Static libraries have pre-built binary files that will be embedded in our executable program</p></li></ul></div></section><section id="_setting_up_static_library_steps"><h2>Setting up Static library (steps)</h2><div class="olist arabic"><ol class="arabic"><li><p>Find library header files and put somewhere on our local system</p></li><li><p>Use the header files (<code>.h</code> or <code>.hpp</code>) from our code</p></li><li><p>Tell our <strong>compiler</strong> where to look for header files to compile in</p></li><li><p>Tell our <strong>linker</strong> which libraries to link to</p></li><li><p>Tell our <strong>linker</strong> where to look for binary library files are (<code>.lib</code>)</p></li></ol></div></section></section>
<section><section id="_setting_up_dynamic_shared_libraries"><h2>Setting up Dynamic/Shared libraries</h2><div class="ulist"><ul><li><p>Dynamic libraries still have header files</p><div class="ulist"><ul><li><p>these tell us and our compiler the <strong>interface</strong> to the library</p></li><li><p>what functions/variables exist</p></li></ul></div></li><li><p>Dynamic libraries usually have an import library (<code>.lib</code>) files</p><div class="ulist"><ul><li><p>tell our linker what is in the binary and where</p></li></ul></div></li><li><p>Dynamic library have dynamically linked binaries (<code>.dll</code>)</p><div class="ulist"><ul><li><p>provide executable code to our program, loaded at run-time</p></li></ul></div></li></ul></div></section><section id="_setting_up_dynamic_shared_libraries_steps"><h2>Setting up Dynamic/Shared libraries (steps)</h2><div class="olist arabic"><ol class="arabic"><li><p>Find library header files and put somewhere on our local system</p></li><li><p>Use the header files (<code>.h</code> or <code>.hpp</code>) from our code</p></li><li><p>Tell our <strong>compiler</strong> where to look for header files to compile in</p></li><li><p>Tell our <strong>linker</strong> which libraries to link to</p></li><li><p>Tell our <strong>linker</strong> where to look for binary import library files are (<code>.lib</code>)</p></li><li><p>Make sure our Operating System can find the Dynamic libraries at run-time</p><div class="ulist"><ul><li><p>on Windows, this would in the path, or in the same directory as the <code>.exe</code></p></li></ul></div></li></ol></div></section></section>
<section id="_activity_overview"><h2>Activity overview</h2><div class="ulist"><ul><li><p>We&#8217;ll start with a "HelloWorld!" Program, with some initial, minimal functions from SDL2 that we wish to use</p></li><li><p>We&#8217;ll go through a series of steps to:</p><div class="olist arabic"><ol class="arabic"><li><p>allow our program to <strong>compile</strong></p></li><li><p>allow our program to <strong>link</strong></p></li><li><p>allow our program to <strong>run</strong></p></li></ol></div></li><li><p>We&#8217;ll then repeat this using <a href="https://conan.io/">conan.io</a> and {cmake}[cmake] to make our lives easier and more scalable</p><div class="ulist"><ul><li><p>our program will depend on at least 3 libraries during this module</p></li></ul></div></li></ul></div></section>
<section id="_1_create_a_new_visual_studio_2015_c_solution"><h2>1. Create a New Visual Studio  (2015)C++ solution</h2><div class="olist arabic"><ol class="arabic"><li><p>New Project</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Visual C++ &#8594; Win32 Console Application</p></li><li><p>ANYWHERE you choose</p></li><li><p>Make "Empty project"</p></li><li><p>Untick "Security Development LifeCycle"</p></li></ol></div></li></ol></div></section>
<section><section id="_2_add_test_program"><h2>2. Add test program</h2><div class="olist arabic"><ol class="arabic"><li><p>Add a new source file named <code>main.cpp</code></p></li><li><p>Add the contents below <strong>BY HAND</strong> - don&#8217;t copy-paste</p></li></ol></div><div class="listingblock"><div class="title">main.cpp</div><div class="content"><pre class="highlight"><code class="cpp language-cpp">#include &lt;iostream&gt;
#include "SDL.h"

int main(int argc, char* argv[])
{
	std::cout &lt;&lt; "HelloWorld!\n"; //send HelloWorld! to console output, followed by a line break

	if (SDL_Init(SDL_INIT_EVERYTHING) != 0) {
		SDL_LogCritical(SDL_LOG_CATEGORY_APPLICATION, "SDL_Init Error: %s\n", SDL_GetError());
		return 1;
	}
	SDL_Log("SDL initialised OK!\n");

	return 0;
}</code></pre></div></div></section><section id="_2_1_read_the_test_program"><h2>2.1 Read the test program</h2><div class="ulist"><ul><li><p>Note the <code>#include</code> directives</p><div class="ulist"><ul><li><p>this ask the compile to <strong>literally</strong> copy-paste that header into this file</p></li><li><p>those in angle-brackets (<code>&lt;</code> or <code>&gt;</code>) are System headers</p></li></ul></div></li><li><p>Note the function names beginning with <code>SDL</code></p><div class="ulist"><ul><li><p>these functions are from the SDL2 library (we hope/intend)</p></li><li><p>Your IDE (Visual Studio) is telling you something about these. What is it saying? What is the error?</p></li></ul></div></li><li><p>Look carefully at the <strong>function signature</strong> of the main function</p></li></ul></div></section></section>
<section><section id="_3_try_to_compile_the_program"><h2>3. Try to compile the program</h2><div class="olist arabic"><ol class="arabic"><li><p>Build &#8594; Build Solution (Ctrl-Shift-B)</p></li><li><p>What are the errors?</p></li></ol></div></section><section id="_3_1_strong_badly_strong_fix_the_errors"><h2>3.1 <strong>badly</strong> fix the errors</h2><div class="olist arabic"><ol class="arabic"><li><p>Comment all the lines which cause errors</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>rebuild, and run (in debug) - F5</p></li></ol></div></li><li><p>Does it run?</p></li><li><p>Can you see the output?</p></li><li><p>Find your <code>exe</code> on your system, and run it from the command line</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>How do you start a command line???</p></li><li><p>How do you <code>change directory</code> if your path has spaces in it??</p></li></ol></div></li></ol></div></section></section>
<section><section id="_4_download_sdl2"><h2>4. Download SDL2</h2><div class="olist arabic"><ol class="arabic"><li><p>Search the web for SDL2 and try to find a download link</p></li></ol></div></section><section id="_4_1_which_version"><h2>4.1 Which version???</h2><div class="olist arabic"><ol class="arabic"><li><p>There are a number of versions on <a href="https://www.libsdl.org/download-2.0.php" class="bare">https://www.libsdl.org/download-2.0.php</a></p></li><li><p>Which do you think you want?</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>HINT: We are developing software</p></li><li><p>HINT: What platform are we on?? and Word-size??</p></li><li><p>HINT: What is our compiler suite?</p></li></ol></div></li><li><p>Which version of SDL2 did you download??</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>What is it&#8217;s version number?</p></li></ol></div></li></ol></div></section></section>
<section id="_5_extract_sdl2"><h2>5. Extract SDL2</h2><div class="olist arabic"><ol class="arabic"><li><p>Extract your download</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Where do you think you should you put it?</p><div class="ulist"><ul><li><p>Your program will need to access them</p></li><li><p>What happens if you move your project ??</p></li></ul></div></li><li><p>How big are these files?</p></li><li><p>What folders and files have you extracted?</p></li><li><p>Do you think these files should be versioned along with your source code?</p></li></ol></div></li></ol></div></section>
<section><section id="_6_tell_visual_studio_where_the_headers_are"><h2>6. Tell Visual Studio where the headers are</h2><div class="olist arabic"><ol class="arabic"><li><p>What header file you need??</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>What are all these other files??</p></li></ol></div></li><li><p>Where in the library you&#8217;ve download is this header file?</p></li><li><p>How do you tell Visual Studio where header files are?</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Search for how to?</p></li><li><p>Figuring out questions like this yourself is important.</p></li><li><p>Is Visual Studio confusing on this?</p></li></ol></div></li><li><p>How many clicks do you need to do in Visual Studio to do this?</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Think this is error prone/easy/repeatable?</p></li></ol></div></li></ol></div></section><section id="_6_1_build_and_run_again"><h2>6.1 Build and Run Again</h2><div class="olist arabic"><ol class="arabic"><li><p>Uncomment the <code>#include</code> for SDL</p><div class="ulist"><ul><li><p>Do the Visual Studio errors (on-screen) go away</p></li></ul></div></li><li><p>Does your program now build?</p></li><li><p>Break it down:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Does it compile?</p></li><li><p>Does it link?</p></li><li><p>Does it run?</p></li><li><p>What is missing? What do the errors say?</p></li></ol></div></li></ol></div></section></section>
<section><section id="_7_tell_visual_studio_where_the_code_lib_code_files_are"><h2>7. Tell Visual Studio where the <code>.lib</code> files are</h2><div class="ulist"><ul><li><p>and which libraries to try to link to</p><div class="olist arabic"><ol class="arabic"><li><p>How do you tell Visual Studio where library files are?</p></li><li><p>How do you tell Visual Studio which libraries to link to?</p></li><li><p>How many clicks do you need to do in Visual Studio to do this?</p></li></ol></div></li></ul></div></section><section id="_7_1_build_and_run_again"><h2>7.1 Build and Run Again</h2><div class="olist arabic"><ol class="arabic"><li><p>Does your program now build?</p></li><li><p>Break it down:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Does it compile?</p></li><li><p>Does it link?</p></li><li><p>Does it run?</p></li><li><p>What is missing? What do the errors say?</p></li></ol></div></li></ol></div></section></section>
<section><section id="_8_copy_code_dlls_code_to_the_appropriate_location"><h2>8. Copy <code>dlls</code> to the appropriate location</h2><div class="olist arabic"><ol class="arabic"><li><p>Where does your Operating System look for Dynamic libraries by default?</p></li><li><p>Can you change this? Should you?</p></li><li><p>What else can you do?</p><div class="ulist"><ul><li><p>HINT: see the above heading!!</p></li></ul></div></li></ol></div></section><section id="_8_1_build_and_run_again"><h2>8.1 Build and Run Again</h2><div class="olist arabic"><ol class="arabic"><li><p>Does your program now build?</p></li><li><p>Break it down:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Does it compile?</p></li><li><p>Does it link?</p></li><li><p>Does it run?</p></li><li><p>What is missing? What do the errors say?</p></li></ol></div></li></ol></div></section></section>
<section id="_9_so_now_you_have_a_running_program"><h2>9. So now you have a running program! ?</h2><div class="ulist"><ul><li><p>Assuming you now have a running program</p><div class="olist arabic"><ol class="arabic"><li><p>Run your <code>.exe</code> from the command line</p></li><li><p>Can you make it so that when you run your program from Visual Studio you can see the output?</p><div class="ulist"><ul><li><p>HINT: there are many ways of doing this</p></li></ul></div></li></ol></div></li></ul></div></section>
<section id="_10_that_was_for_just_one_library"><h2>10. That was for just one library!</h2><div class="olist arabic"><ol class="arabic"><li><p>Find a collegue/friend</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Go through each other instructions</p></li><li><p>What did you each do the same, or differently?</p></li><li><p>Do those things matter?</p></li></ol></div></li><li><p>What would this be like if you had 3 libraries your project needed?</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>or 8 libraries?</p></li></ol></div></li></ol></div></section>
<section id="_11_another_approach"><h2>11. Another approach</h2><div class="ulist"><ul><li><p>Historically, C++ hasn&#8217;t had a package manager</p><div class="ulist"><ul><li><p>Most/Many other languages do have (good/poor) package managers</p></li></ul></div></li><li><p><a href="https://conan.io/">Conan.io</a> is pretty new</p><div class="ulist"><ul><li><p>that&#8217;s great - makes things easier</p></li><li><p>that&#8217;s challenging - this change and break</p><div class="ulist"><ul><li><p>changes, broken things is <strong>very</strong> common</p></li><li><p>especially in Games!!</p></li></ul></div></li></ul></div></li></ul></div></section>
<section id="_12_conan_and_versioning"><h2>12. Conan and Versioning</h2><div class="ulist"><ul><li><p>Conan.io is pre-installed on Lab machines</p><div class="ulist"><ul><li><p>if working at home or on a laptop, you&#8217;ll need to install it</p></li></ul></div></li><li><p>If you want to use a versioning system, now would be a good time to start</p><div class="ulist"><ul><li><p>we <strong>strongly</strong> recommend the use of some kind of versioning</p></li><li><p>we <strong>recommend</strong> git, but other good tools exist</p></li></ul></div></li></ul></div></section>
<section><section id="_13_starting_afresh_with_https_conan_io_conan_io"><h2>13. Starting afresh with https://conan.io/[conan.io]</h2><div class="olist arabic"><ol class="arabic"><li><p>Make a new folder somewhere for your project</p><div class="ulist"><ul><li><p>call it <code>gamesProgramming</code> or anything you like</p></li><li><p>you can (if you like) remove all the library files you carefully downloaded!!</p></li></ul></div></li><li><p>We tell conan about the libraries we need with special file - <code>conanfile.txt</code></p><div class="ulist"><ul><li><p>conan can then go off and find these libraries for us</p></li><li><p>and even, build them from source if it needs to</p></li><li><p>and create files for us, that tell us where things are</p></li></ul></div></li></ol></div></section><section id="_13_1_create_your_first_code_conanfile_txt_code"><h2>13.1 Create your first <code>conanfile.txt</code></h2><div class="olist arabic"><ol class="arabic"><li><p>Create a file name <code>conanfile.txt</code> in the root of your new (<code>gamesProgramming</code>) folder, with the following content</p><div class="ulist"><ul><li><p>this gives conan the library name, version and who&#8217;s package to use, and the channel</p></li><li><p>see <a href="http://conanio.readthedocs.io/en/latest/manage_deps/conanfile_txt.html#requires">conanio on readthedocs</a> for more info</p></li></ul></div></li></ol></div>
<div class="listingblock"><div class="title">conanfile.txt</div><div class="content"><pre class="highlight"><code class="conan language-conan">[requires]
SDL2/2.0.4@lasote/stable

[options]
SDL2:shared=True #False

[generators]
cmake</code></pre></div></div></section><section id="_13_2_explanation_of_this_code_conanfile_txt_code"><h2>13.2 Explanation of this <code>conanfile.txt</code></h2><div class="olist arabic"><ol class="arabic"><li><p>We&#8217;ve said our project requires the <code>SDL2</code> library, version <code>2.0.4</code> that has been packaged by <code>lasote</code> and is in the <code>stable</code> channel</p></li><li><p>We&#8217;ve said the option <code>shared</code> on the <code>SDL2</code> library is set to <code>True</code></p><div class="ulist"><ul><li><p>meaning we want a shared (dynamic) version of SDL2</p></li><li><p>we could go with <code>False</code> and embed SDL2 directly in our program</p><div class="ulist"><ul><li><p>we shouldn&#8217;t do this</p></li><li><p>for good practice</p></li><li><p>and without checking whether the license terms of the library allow this (e.g. GPL license) - Discuss/Research</p></li></ul></div></li></ul></div></li><li><p>We&#8217;ve said we want conan to generate output for <code>cmake</code></p><div class="ulist"><ul><li><p>this output will contain details on where the needed parts of libraries are located, etc.</p></li></ul></div></li></ol></div></section><section id="_13_3_build_out_of_source"><h2>13.3 Build out-of-source</h2><div class="olist arabic"><ol class="arabic"><li><p>Go to your <code>gamesProgramming</code> folder with a console</p><div class="ulist"><ul><li><p>we <strong>recommend</strong> gitBash on Lab machines</p></li><li><p>that way you can use git from the commandline also if you choose</p></li></ul></div></li><li><p>Make a new directory called <code>build</code></p><div class="ulist"><ul><li><p>this is where are build files will go</p></li><li><p>most of these will be temporary - we don&#8217;t need to version them</p></li><li><p>using a separate directory keeps the build clean</p></li></ul></div></li></ol></div></section><section id="_13_4_ask_conan_to_install_the_libraries"><h2>13.4 Ask conan to install the libraries</h2><div class="olist arabic"><ol class="arabic"><li><p>run <code>conan install ..</code></p><div class="ulist"><ul><li><p>ask conan to install packages listed in the parent directory (in <code>conanfile.txt</code>)</p></li><li><p>watch the output</p></li><li><p>try to figure out what conan is doing</p></li><li><p>what information does it tell you at the end?</p></li></ul></div></li></ol></div></section><section id="_13_5_what_has_conan_created"><h2>13.5 What has conan created?</h2><div class="ulist"><ul><li><p>Conan has created a bunch of files for us</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>What two, separate locations has conan put files?</p></li><li><p>What files has conan put in out present directory?</p></li></ol></div></li></ul></div></section><section id="_13_6_where_conan_has_put_the_libraries"><h2>13.6 Where conan has put the libraries</h2><div class="olist arabic"><ol class="arabic"><li><p>Have a look at the <code>conanbuildinfo.cmake</code></p><div class="ulist"><ul><li><p>This is a file that tells <strong>cmake</strong> about file locations</p></li><li><p>It&#8217;s not very human readable</p></li></ul></div></li><li><p>Add a generator <code>text</code> to your <code>conanfile.txt</code> and re-run the conan install command</p><div class="ulist"><ul><li><p>Have a look a the new file - this should tell you stuff in an easier way</p></li><li><p>But not useful for anything except:</p><div class="ulist"><ul><li><p>your knowledge or</p></li><li><p>if you had to set things up manually (you <strong>could</strong> do this in Visual Studio now, using the libraries conan has installed)</p></li><li><p>you can remove the <code>text</code> generator if you want, and clear the associated, generated file</p></li></ul></div></li></ul></div></li></ol></div></section><section id="_14_add_the_code_main_cpp_code"><h2>14 Add the <code>main.cpp</code></h2><div class="olist arabic"><ol class="arabic"><li><p>Add a new source file named <code>main.cpp</code> (you can copy-paste this time :-)</p></li></ol></div>
<div class="listingblock"><div class="title">main.cpp</div><div class="content"><pre class="highlight"><code class="cpp language-cpp">#include &lt;iostream&gt;
#include "SDL.h"

int main(int argc, char* argv[])
{
	std::cout &lt;&lt; "HelloWorld!\n"; //send HelloWorld! to console output, followed by a line break

	if (SDL_Init(SDL_INIT_EVERYTHING) != 0) {
		SDL_LogCritical(SDL_LOG_CATEGORY_APPLICATION, "SDL_Init Error: %s\n", SDL_GetError());
		return 1;
	}
	SDL_Log("SDL initialised OK!\n");

	return 0;
}</code></pre></div></div></section></section>
<section><section id="_15_ask_strong_cmake_strong_to_create_a_visual_studio_solution"><h2>15. Ask <strong>cmake</strong> to create a Visual Studio Solution</h2><div class="ulist"><ul><li><p><a href="https://cmake.org/">cmake</a> is a build system builder!!</p></li><li><p>It can make various forms of build system</p></li><li><p>We&#8217;re interested in Visual Studio solutions</p></li><li><p>We tell cmake what we want using a <code>CMakeLists.txt</code> file</p><div class="ulist"><ul><li><p>note the <strong>capitalisation</strong></p></li></ul></div></li></ul></div></section><section id="_15_1_create_a_code_cmakelists_txt_code_file"><h2>15.1 Create a <code>CMakeLists.txt</code> file</h2><div class="olist arabic"><ol class="arabic"><li><p>In the root of your project folder (<code>gamesProgramming</code>), create a file named, exactly, <code>CMakeLists.txt</code></p><div class="ulist"><ul><li><p>with the following content</p></li></ul></div></li></ol></div>
<div class="listingblock"><div class="title">CMakeLists.txt</div><div class="content"><pre class="highlight"><code class="cmake language-cmake">project(ConanTest)
cmake_minimum_required(VERSION 2.8.12)

include(${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)
conan_basic_setup()

add_executable(conanTest main.cpp)
target_link_libraries(conanTest ${CONAN_LIBS})

set_property(DIRECTORY PROPERTY VS_STARTUP_PROJECT "conanTest")</code></pre></div></div></section><section id="_15_2_explanation_of_the_code_cmakelists_txt_code_file"><h2>15.2 Explanation of the <code>CMakeLists.txt</code> file</h2><div class="ulist"><ul><li><p>The name of the solution (<code>ConanTest</code>)</p></li><li><p>minimum cmake version ( 2.8.12)</p></li><li><p>use the <code>conanbuildinfo.cmake</code> file we made</p></li><li><p>run some stuff to make conan work</p></li><li><p>make an <code>exe</code> called <code>conanTest</code> from <code>main.cpp</code></p></li><li><p>use libraries from conan for that exe <code>conanTest</code></p></li><li><p>make <code>conanTest</code> our startup project</p></li></ul></div></section><section id="_15_3_ask_cmake_to_create_a_visual_studio_solution"><h2>15.3 Ask Cmake to create a Visual Studio Solution</h2><div class="olist arabic"><ol class="arabic"><li><p>In your <code>build</code> directory run the following, from the command line (gitBash)</p><div class="ulist"><ul><li><p>note what build system we&#8217;re and platform we&#8217;re asking cmake to create for</p></li></ul></div></li></ol></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="bash language-bash">cmake .. -G "Visual Studio 14 Win64"</code></pre></div></div></section><section id="_15_4_use_the_visual_studio_solution"><h2>15.4 Use the Visual Studio solution</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="bash language-bash">cmake --build . --config Release #ask cmake to build in Release mode</code></pre></div></div>
<div class="ulist"><ul><li><p>OR load the Visual Studio solutin (.sln) in the build directory, and build from the UI</p></li></ul></div></section><section id="_15_5_run_your_new_binary"><h2>15.5 Run your new binary</h2><div class="listingblock"><div class="content"><pre class="highlight"><code>./bin/conanTest.exe</code></pre></div></div>
<div class="ulist"><ul><li><p>OR run from Visual Studio (F5).</p><div class="ulist"><ul><li><p>WARNING: you will likely get a console window that immediately exits</p></li></ul></div></li></ul></div></section></section>
<section id="_stretch_activities"><h2>Stretch Activities</h2><div class="paragraph"><p>Now you have SDL2 installed and working from your program, try to:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Make SDL log the "HelloWorld!" output, instead of using <code>cout</code></p><div class="ulist"><ul><li><p>What do you need to do differently?</p></li></ul></div></li><li><p>Look up SDL&#8217;s documentation of Logging.</p><div class="ulist"><ul><li><p>What control do you have over the logs?</p></li><li><p>Why might you want this control? - discuss with a collegue/friend</p></li></ul></div></li><li><p>Ask SDL to create you a Window</p><div class="ulist"><ul><li><p>Search SDL&#8217;s documentation for the function</p></li><li><p>What parameters does it need? What do they each do?</p></li></ul></div></li></ol></div></section></div></div><script src="reveal.js/lib/js/head.min.js"></script><script src="reveal.js/js/reveal.js"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: false,
  // Push each slide change to the browser history
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'black',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
  ]
});</script></body></html>